{"ast":null,"code":"var _jsxFileName = \"/Users/aakash/Desktop/api/March/eduramp_MERN_25/react/loginapp/src/component/Profile.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport useLogout from './useLogout';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst baseUrl = process.env.REACT_APP_API_URL;\nconst Profile = () => {\n  _s();\n  const navigate = useNavigate();\n  const [user, setUser] = useState();\n  const logout = us;\n  const userData = async () => {\n    const response = await fetch(`${baseUrl}/userinfo`, {\n      method: 'GET',\n      headers: {\n        'x-access-token': sessionStorage.getItem('ltk')\n      }\n    });\n    const data = await response.json();\n    setUser(data);\n  };\n  const renderUser = data => {\n    if (data) {\n      sessionStorage.setItem('rtk', data.role);\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Hi \", data.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Your Email Id is \", data.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Your Phone Number is \", data.phone]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Your role is \", data.role]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true);\n    }\n  };\n  useEffect(() => {\n    userData();\n  }, []);\n  const handleLogout = () => {\n    sessionStorage.removeItem('ltk');\n    sessionStorage.removeItem('rtk');\n    navigate('/');\n  };\n  const conditionalRender = data => {\n    if (data) {\n      if (data.role.toLowerCase() === \"admin\") {\n        return /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/userList\",\n          className: \"btn btn-success\",\n          children: \"Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this);\n      }\n    }\n  };\n  if (sessionStorage.getItem('ltk') === null) {\n    navigate('/');\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel panel-primary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-heading\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-body\",\n          children: [renderUser(user), conditionalRender(user), \" \\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: handleLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n};\n_s(Profile, \"G7OX0D/SYv172VRxBvlr9rL/1ls=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["useState","useEffect","Link","useNavigate","useLogout","jsxDEV","_jsxDEV","Fragment","_Fragment","baseUrl","process","env","REACT_APP_API_URL","Profile","_s","navigate","user","setUser","logout","us","userData","response","fetch","method","headers","sessionStorage","getItem","data","json","renderUser","setItem","role","children","name","fileName","_jsxFileName","lineNumber","columnNumber","email","phone","handleLogout","removeItem","conditionalRender","toLowerCase","to","className","onClick","_c","$RefreshReg$"],"sources":["/Users/aakash/Desktop/api/March/eduramp_MERN_25/react/loginapp/src/component/Profile.js"],"sourcesContent":["import {useState,useEffect} from 'react';\nimport {Link, useNavigate} from 'react-router-dom';\nimport useLogout from './useLogout'\n\nconst baseUrl = process.env.REACT_APP_API_URL;\n\nconst Profile = () => {\n    const navigate = useNavigate();\n    const [user,setUser] = useState();\n    const logout = us\n\n    const userData = async() => {\n        const response = await fetch(`${baseUrl}/userinfo`,{\n            method:'GET',\n            headers:{\n                'x-access-token':sessionStorage.getItem('ltk')\n            }\n        })\n\n        const data = await response.json();\n        setUser(data)\n    }\n\n    const renderUser = (data) => {\n        if(data){\n            sessionStorage.setItem('rtk',data.role);\n            return(\n                <>\n                    <h1>Hi {data.name}</h1>\n                    <h2>Your Email Id is {data.email}</h2>\n                    <h2>Your Phone Number is {data.phone}</h2>\n                    <h2>Your role is {data.role}</h2>\n                </>\n            )\n        }\n    }\n\n    useEffect(() => {\n        userData()\n    },[])\n\n    const handleLogout = () => {\n        sessionStorage.removeItem('ltk')\n        sessionStorage.removeItem('rtk')\n        navigate('/')\n    }\n\n    const conditionalRender = (data) => {\n        if(data){\n            if(data.role.toLowerCase() === \"admin\"){\n                return(\n                    <Link to=\"/userList\" className='btn btn-success'>\n                        Users\n                    </Link>\n                )\n            }\n        }\n    }\n\n    if(sessionStorage.getItem('ltk') === null){\n        navigate('/')\n    }else{\n        return(\n            <>\n                <hr/>\n                <div className='panel panel-primary'>\n                    <div className='panel-heading'>\n                        <h3>Profile</h3>\n                    </div>\n                    <div className='panel-body'>\n                        {renderUser(user)}\n                        {conditionalRender(user)} &nbsp;\n                        <button className='btn btn-danger'\n                        onClick={handleLogout}>\n                            Logout\n                        </button>\n                    </div>\n                </div>\n            </>\n        )\n    }\n    \n\n}\n\n\nexport default Profile"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}